(function(e){e(".collection-sidebar")&&History.Adapter.bind(window,"statechange",function(){var t=History.getState();if(!n.isSidebarAjaxClick){n.sidebarParams();var a=n.sidebarCreateUrl();n.sidebarGetContent(a),n.reActivateSidebar()}n.isSidebarAjaxClick=!1}),window.use_color_swatch&&(e(".swatch :radio").change(function(){var t=e(this).closest(".swatch").attr("data-option-index"),a=e(this).val();e(this).closest("form").find(".single-option-selector").eq(t).val(a).trigger("change")}),Shopify.optionsMap={},Shopify.updateOptionsInSelector=function(t){switch(t){case 0:var a="root",r=e(".single-option-selector:eq(0)");break;case 1:var a=e(".single-option-selector:eq(0)").val(),r=e(".single-option-selector:eq(1)");break;case 2:var a=e(".single-option-selector:eq(0)").val();a+=" / "+e(".single-option-selector:eq(1)").val();var r=e(".single-option-selector:eq(2)")}var o=r.val();r.empty();var s=Shopify.optionsMap[a];if(s&&s.length){for(var l=0;l<s.length;l++){var d=s[l],c=e("<option></option>").val(d).html(d);r.append(c)}e('.swatch[data-option-index="'+t+'"] .swatch-element').each(function(){e.inArray(e(this).attr("data-value"),s)!==-1?e(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):e(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")}),e.inArray(o,s)!==-1&&r.val(o),r.trigger("change")}},Shopify.linkOptionSelectors=function(t){for(var a=0;a<t.variants.length;a++){var r=t.variants[a];if(r.available){if(Shopify.optionsMap.root=Shopify.optionsMap.root||[],Shopify.optionsMap.root.push(r.option1),Shopify.optionsMap.root=Shopify.uniq(Shopify.optionsMap.root),t.options.length>1){var o=r.option1;Shopify.optionsMap[o]=Shopify.optionsMap[o]||[],Shopify.optionsMap[o].push(r.option2),Shopify.optionsMap[o]=Shopify.uniq(Shopify.optionsMap[o])}if(t.options.length===3){var o=r.option1+" / "+r.option2;Shopify.optionsMap[o]=Shopify.optionsMap[o]||[],Shopify.optionsMap[o].push(r.option3),Shopify.optionsMap[o]=Shopify.uniq(Shopify.optionsMap[o])}}}Shopify.updateOptionsInSelector(0),t.options.length>1&&Shopify.updateOptionsInSelector(1),t.options.length===3&&Shopify.updateOptionsInSelector(2),e(".single-option-selector:eq(0)").change(function(){return Shopify.updateOptionsInSelector(1),t.options.length===3&&Shopify.updateOptionsInSelector(2),!0}),e(".single-option-selector:eq(1)").change(function(){return t.options.length===3&&Shopify.updateOptionsInSelector(2),!0})}),e(document).ready(function(){n.init(),e('a[href^="http"]').not('a[href^="'+e(location).attr("hostname")+'"]').attr("target","_blank")}),e(window).resize(function(){n.initMobileMenu(),n.initResizeImage()}),e(window).scroll(function(){e(this).scrollTop()>200?e("#back-top").fadeIn():e("#back-top").fadeOut()}),e(".header-mobile").is(":visible")||e(document).on("click touchstart",function(t){var a=e(".quick-view"),r=e("#dropdown-cart"),o=e("#cartToggle"),s=e("#email-modal .modal-window"),l=e(".nav-search");!a.is(t.target)&&a.has(t.target).length===0&&!r.is(t.target)&&r.has(t.target).length===0&&!o.is(t.target)&&o.has(t.target).length===0&&!s.is(t.target)&&s.has(t.target).length===0&&!l.is(t.target)&&l.has(t.target).length===0&&(n.closeQuickViewPopup(),n.closeDropdownCart(),n.closeEmailModalWindow(),n.closeDropdownSearch())}),e(document).keyup(function(t){t.keyCode==27&&(n.closeQuickViewPopup(),n.closeDropdownCart(),n.closeDropdownSearch(),clearTimeout(n.ellaTimeout),e(".modal").is(":visible")&&e(".modal").fadeOut(500))});var n={ellaTimeout:null,isSidebarAjaxClick:!1,init:function(){this.initColorSwatchGrid(),this.initResizeImage(),this.initMobileMenu(),this.initSidebar(),this.initMobileSidebar(),this.initScrollTop(),this.initQuickView(),this.initCloudzoom(),this.initProductMoreview(),this.initAddToCart(),this.initModal(),this.initProductAddToCart(),this.initDropDownCart(),this.initDropdownSearch(),this.initToggleCollectionPanel(),this.initWishlist(),this.initProductWishlist(),this.initRemoveWishlist(),this.initInfiniteScrolling()},sidebarMapTagEvents:function(){e('.sidebar-tag a:not(".clear"), .sidebar-tag label').click(function(t){var a=[];if(Shopify.queryParams.constraint&&(a=Shopify.queryParams.constraint.split("+")),!window.enable_sidebar_multiple_choice&&!e(this).prev().is(":checked")){var r=e(this).parents(".sidebar-tag").find("input:checked");if(r.length>0){var s=r.val();if(s){var o=a.indexOf(s);o>=0&&a.splice(o,1)}}}var s=e(this).prev().val();if(s){var o=a.indexOf(s);o>=0?a.splice(o,1):a.push(s)}a.length?Shopify.queryParams.constraint=a.join("+"):delete Shopify.queryParams.constraint,n.sidebarAjaxClick(),t.preventDefault()})},sidebarMapCategories:function(){e(".sidebar-links a").click(function(t){e(this).hasClass("active")||(delete Shopify.queryParams.q,n.sidebarAjaxClick(e(this).attr("href")),e(".sidebar-links a.active").removeClass("active"),e(this).addClass("active")),t.preventDefault()})},sidebarMapView:function(){e(".view-mode a").click(function(t){if(!e(this).hasClass("active")){var a=e(".filter-show > button span").text();e(this).hasClass("list")?Shopify.queryParams.view="list"+a:Shopify.queryParams.view=a,n.sidebarAjaxClick(),e(".view-mode a.active").removeClass("active"),e(this).addClass("active")}t.preventDefault()})},sidebarMapShow:function(){e(".filter-show a").click(function(t){if(!e(this).parent().hasClass("active")){var a=e(this).attr("href"),r=e(".view-mode a.active").attr("href");r=="list"?Shopify.queryParams.view="list"+a:Shopify.queryParams.view=a,n.sidebarAjaxClick(),e(".filter-show > button span").text(a),e(".filter-show li.active").removeClass("active"),e(this).parent().addClass("active")}t.preventDefault()})},sidebarInitToggle:function(){e(".sidebar-tag").length>0&&e(".sidebar-tag .widget-title span").click(function(){var t=e(this).parents(".widget-title");t.hasClass("click")?t.removeClass("click"):t.addClass("click"),e(this).parents(".sidebar-tag").find(".widget-content").slideToggle()})},sidebarMapSorting:function(t){e(".filter-sortby a").click(function(a){if(!e(this).parent().hasClass("active")){Shopify.queryParams.sort_by=e(this).attr("href"),n.sidebarAjaxClick();var r=e(this).text();e(".filter-sortby > button span").text(r),e(".filter-sortby li.active").removeClass("active"),e(this).parent().addClass("active")}a.preventDefault()})},sidebarMapPaging:function(){e(".pagination-page a").click(function(t){var a=e(this).attr("href").match(/page=\d+/g);if(a&&(Shopify.queryParams.page=parseInt(a[0].match(/\d+/g)),Shopify.queryParams.page)){var r=n.sidebarCreateUrl();n.isSidebarAjaxClick=!0,History.pushState({param:Shopify.queryParams},r,r),n.sidebarGetContent(r),e("body,html").animate({scrollTop:500},600)}t.preventDefault()})},sidebarMapClearAll:function(){e(".refined-widgets a.clear-all").click(function(t){delete Shopify.queryParams.constraint,delete Shopify.queryParams.q,n.sidebarAjaxClick(),t.preventDefault()})},sidebarMapClear:function(){e(".sidebar-tag").each(function(){var t=e(this);t.find("input:checked").length>0&&t.find(".clear").show().click(function(a){console.log("im clicked");var r=[];Shopify.queryParams.constraint&&(r=Shopify.queryParams.constraint.split("+")),t.find("input:checked").each(function(){var o=e(this),s=o.val();if(s){var l=r.indexOf(s);l>=0&&r.splice(l,1)}}),r.length?Shopify.queryParams.constraint=r.join("+"):delete Shopify.queryParams.constraint,n.sidebarAjaxClick(),a.preventDefault()})})},sidebarMapEvents:function(){n.sidebarMapTagEvents(),n.sidebarMapCategories(),n.sidebarMapView(),n.sidebarMapShow(),n.sidebarMapSorting()},reActivateSidebar:function(){e(".sidebar-custom .active, .sidebar-links .active").removeClass("active"),e(".sidebar-tag input:checked").attr("checked",!1);var t=location.pathname.match(/\/collections\/(.*)(\?)?/);if(t&&t[1]&&e(".sidebar-links a[href='"+t[0]+"']").addClass("active"),Shopify.queryParams.view){e(".view-mode .active").removeClass("active");var a=Shopify.queryParams.view;a.indexOf("list")>=0?(e(".view-mode .list").addClass("active"),a=a.replace("list","")):e(".view-mode .grid").addClass("active"),e(".filter-show > button span").text(a),e(".filter-show li.active").removeClass("active"),e(".filter-show a[href='"+a+"']").parent().addClass("active")}n.initSortby()},initSortby:function(){if(Shopify.queryParams.sort_by){var t=Shopify.queryParams.sort_by,a=e(".filter-sortby a[href='"+t+"']").text();e(".filter-sortby > button span").text(a),e(".filter-sortby li.active").removeClass("active"),e(".filter-sortby a[href='"+t+"']").parent().addClass("active")}},sidebarMapData:function(t){var a=e(".col-main .products-grid");a.length==0&&(a=e(".col-main .product-list"));var r=e(t).find(".col-main .products-grid");r.length==0&&(r=e(t).find(".col-main .product-list")),r.length>0&&r.hasClass("products-grid")&&window.product_image_resize&&r.find("img").fakecrop({fill:window.images_size.is_crop,widthSelector:".products-grid .grid-item .product-image",ratioWrapper:window.images_size}),a.replaceWith(r),n.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,jQuery("#currencies").val(),".col-main span.money","money_format"),e(".padding").length>0?e(".padding").replaceWith(e(t).find(".padding")):e(".block-row.col-main").append(e(t).find(".padding"));var o=e(".page-header"),s=e(t).find(".page-header");if(o.find("h2").text()!=s.find("h2").text()){o.find("h2").replaceWith(s.find("h2"));var l=e(".collection-des"),d=e(t).find(".collection-des");l.find(".rte").length?d.find(".rte").length?l.html(d.find(".rte")):l.find(".rte").hide():l.html(d.find(".rte"));var c=e(".collection-img"),f=e(t).find(".collection-img");c.find("p").length?f.find("p").length?c.html(f.find("p")):c.find("p").hide():c.html(f.find("p"))}if(e(".refined-widgets").replaceWith(e(t).find(".refined-widgets")),e(".sidebar-block").replaceWith(e(t).find(".sidebar-block")),e(".breadcrumb .bd-title").replaceWith(e(t).find(".breadcrumb .bd-title")),n.initColorSwatchGrid(),e(".spr-badge").length>0)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()},sidebarCreateUrl:function(t){var a=e.param(Shopify.queryParams).replace(/%2B/g,"+");return t?a!=""?t+"?"+a:t:location.pathname+"?"+a},sidebarAjaxClick:function(t){delete Shopify.queryParams.page;var a=n.sidebarCreateUrl(t);n.isSidebarAjaxClick=!0,History.pushState({param:Shopify.queryParams},a,a),n.sidebarGetContent(a)},sidebarGetContent:function(t){e.ajax({type:"get",url:t,beforeSend:function(){n.showLoading()},success:function(a){n.sidebarMapData(a),n.sidebarMapPaging(),n.translateBlock(".main-content"),n.sidebarMapTagEvents(),n.sidebarInitToggle(),n.sidebarMapClear(),n.sidebarMapClearAll(),n.hideLoading(),n.initQuickView(),n.initAddToCart(),n.initWishlist(),n.initInfiniteScrolling()},error:function(a,r){n.hideLoading(),e(".loading-modal").hide(),e(".ajax-error-message").text(e.parseJSON(a.responseText).description),n.showModal(".ajax-error-modal")}})},sidebarParams:function(){if(Shopify.queryParams={},location.search.length)for(var t,a=0,r=location.search.substr(1).split("&");a<r.length;a++)t=r[a].split("="),t.length>1&&(Shopify.queryParams[decodeURIComponent(t[0])]=decodeURIComponent(t[1]))},initMobileSidebar:function(){e("footer").append("<a class='option-sidebar left' id='displayTextLeft' href='javascript:void(0)' title='Show Sidebar'><span>Show Sidebar</span></a>"),e("#displayTextLeft").click(function(t){t.preventDefault(),e(".sidebar").is(":hidden")?(e(".sidebar").fadeIn(800),e("body,html").animate({scrollTop:400},600),e("#displayTextLeft").toggleClass("hidden-arrow-left"),e("#displayTextLeft").attr("title","hide-sidebar"),e("#displayTextLeft").html("<span>Hide Sidebar</span>")):(e(".sidebar").fadeOut(800),e("#displayTextLeft").removeClass("hidden-arrow-left"),e("#displayTextLeft").attr("title","show-sidebar"),e("#displayTextLeft").html("<span>Show Sidebar</span>"))})},initSidebar:function(){e(".collection-sidebar").length>0&&(n.sidebarParams(),n.initSortby(),n.sidebarMapEvents(),n.sidebarMapPaging(),n.sidebarInitToggle(),n.sidebarMapClear(),n.sidebarMapClearAll())},initMobileMenu:function(){if(e(".menu-block").is(":visible")){e(".gf-menu-device-container ul.gf-menu li.dropdown").each(function(){e(this).find("> p.toogleClick").length==0&&e(this).prepend('<p class="toogleClick">+</p>')}),e(".menu-block").children().hasClass("gf-menu-device-wrapper")==!1&&e(".menu-block").children().addClass("gf-menu-device-wrapper"),e(".gf-menu-device-container").find("ul.gf-menu").size()==0&&(e(".gf-menu-device-container").append(e(".nav-bar .container").html()),e(".gf-menu-device-container .site-nav").addClass("gf-menu"),e(".gf-menu-device-container .site-nav").removeClass("nav")),e("p.toogleClick").click(function(){e(this).hasClass("mobile-toggle-open")?(e(this).next().next().hide(),e(this).removeClass("mobile-toggle-open")):(e(this).next().next().show(),e(this).addClass("mobile-toggle-open"))});var t=window.innerWidth;t<767&&jQuery(".site-nav .dropdown .menu__moblie").bind("click",function(a){currentEl!=this&&(e(this).next().show(),e(this).prev().addClass("mobile-toggle-open"),a.preventDefault(),currentEl=this)}),e("p.toogleClick").show(),e("div.gf-menu-toggle").hide(),e(".nav-bar .container").hide(),e("ul.gf-menu").hasClass("clicked")==!1&&(e(".gf-menu").hide(),e(".gf-menu li.dropdown ul.site-nav-dropdown").hide()),e(".col-1 .inner ul.dropdown").parent().each(function(){e(this).find("> p.toogleClick").length==0&&e(this).prepend('<p class="toogleClick">+</p>')}),e(".cbp-spmenu span.icon-dropdown").remove(),e("ul.gf-menu li.dropdown").each(function(){e(this).find("> p.toogleClick").length==0&&e(this).prepend('<p class="toogleClick">+</p>')}),e("p.toogleClick").click(function(){e(this).hasClass("mobile-toggle-open")?(e(this).next().next().hide(),e(this).removeClass("mobile-toggle-open")):(e(this).next().next().show(),e(this).addClass("mobile-toggle-open"))}),e(".header-panel-bottom ul.customer-links").prependTo(e(".customer-area .dropdown-menu"))}else e(".nav-bar .container").show(),e(".gf-menu").hide(),e(".customer-area ul.customer-links").appendTo(e(".header-panel-bottom")).after(e(".top-header"));e(".menu-block").children().hasClass("gf-menu-device-wrapper")==!1&&e(".menu-block").children().addClass("resized")},initWishlist:function(){e(".grid-item button.wishlist").click(function(t){t.preventDefault();var a=e(this).parent(),r=a.parents(".grid-item");e.ajax({type:"POST",url:"/contact",data:a.serialize(),beforeSend:function(){n.showLoading()},success:function(o){n.hideLoading(),a.html('<a class="wishlist" href="/pages/wish-list" title="Go to wishlist"><span class="icon"></span><span>Go to wishlist</span></a>');var s=r.find(".product-title").html(),l=r.find("a > img").attr("src");e(".ajax-success-modal").find(".ajax-product-title").html(s),e(".ajax-success-modal").find(".ajax-product-image").attr("src",l),e(".ajax-success-modal").find(".btn-go-to-wishlist").show(),e(".ajax-success-modal").find(".btn-go-to-cart").hide(),n.showModal(".ajax-success-modal")},error:function(o,s){n.hideLoading(),e(".loading-modal").hide(),e(".ajax-error-message").text(e.parseJSON(o.responseText).description),n.showModal(".ajax-error-modal")}})})},initProductWishlist:function(){e(".product button.wishlist").click(function(t){t.preventDefault();var a=e(this).parent(),r=a.parents(".grid-item");e.ajax({type:"POST",url:"/contact",data:a.serialize(),beforeSend:function(){n.showLoading()},success:function(o){n.hideLoading(),a.html('<a class="wishlist" href="/pages/wish-list" title="Go to wishlist"><span class="icon"></span><span>Go to wishlist</span></a>');var s=e(".product-title h2").html(),l=e("#product-featured-image").attr("src");e(".ajax-success-modal").find(".ajax-product-title").html(s),e(".ajax-success-modal").find(".ajax-product-image").attr("src",l),e(".ajax-success-modal").find(".btn-go-to-wishlist").show(),e(".ajax-success-modal").find(".btn-go-to-cart").hide(),n.showModal(".ajax-success-modal")},error:function(o,s){n.hideLoading(),e(".loading-modal").hide(),e(".ajax-error-message").text(e.parseJSON(o.responseText).description),n.showModal(".ajax-error-modal")}})})},initRemoveWishlist:function(){e(".btn-remove-wishlist").click(function(t){var a=e(this).parents("tr"),r=a.find(".tag-id").val(),o=jQuery("#remove-wishlist-form");o.find("input[name='contact[tags]']").val("x"+r),e.ajax({type:"POST",url:"/contact",data:o.serialize(),beforeSend:function(){n.showLoading()},success:function(s){n.hideLoading(),a.fadeOut(1e3)},error:function(s,l){n.hideLoading(),e(".loading-modal").hide(),e(".ajax-error-message").text(e.parseJSON(s.responseText).description),n.showModal(".ajax-error-modal")}})})},initColorSwatchGrid:function(){jQuery(".item-swatch li label").hover(function(){var t=jQuery(this).parent().find(".hidden a").attr("href");return jQuery(this).parents(".grid-item").find(".product-grid-image img").attr({src:t}),!1})},initResizeImage:function(){window.product_image_resize&&e(".products-grid .product-image img").fakecrop({fill:window.images_size.is_crop,widthSelector:".products-grid .grid-item .product-image",ratioWrapper:window.images_size})},initInfiniteScrolling:function(){e(".infinite-scrolling").length>0&&e(".infinite-scrolling a").click(function(t){t.preventDefault(),e(this).hasClass("disabled")||n.doInfiniteScrolling()})},doInfiniteScrolling:function(){var t=e(".block-row .products-grid");if(t.length||(t=e(".block-row .product-list")),t){var a=e(".infinite-scrolling a").first();e.ajax({type:"GET",url:a.attr("href"),beforeSend:function(){n.showLoading(),e(".loading-modal").show()},success:function(r){n.hideLoading();var o=e(r).find(".block-row .products-grid");if(o.length||(o=e(r).find(".block-row .product-list")),o.length&&(o.hasClass("products-grid")&&window.product_image_resize&&o.children().find("img").fakecrop({fill:window.images_size.is_crop,widthSelector:".products-grid .grid-item .product-image",ratioWrapper:window.images_size}),t.append(o.children()),n.translateBlock("."+t.attr("class")),n.initQuickView(),n.initAddToCart(),n.initWishlist(),e(r).find(".infinite-scrolling").length>0?a.attr("href",e(r).find(".infinite-scrolling a").attr("href")):(a.hide(),a.next().show()),window.show_multiple_currencies&&window.shop_currency!=jQuery("#currencies").val()&&Currency.convertAll(window.shop_currency,jQuery("#currencies").val(),"span.money","money_format"),n.initColorSwatchGrid(),e(".spr-badge").length>0))return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()},error:function(r,o){n.hideLoading(),e(".loading-modal").hide(),e(".ajax-error-message").text(e.parseJSON(r.responseText).description),n.showModal(".ajax-error-modal")},dataType:"html"})}},closeEmailModalWindow:function(){e("#email-modal").length>0&&e("#email-modal").is(":visible")&&e("#email-modal .modal-window").fadeOut(600,function(){e("#email-modal .modal-overlay").fadeOut(600,function(){e("#email-modal").hide(),e.cookie("emailSubcribeModal","closed",{expires:1,path:"/"})})})},showModal:function(t){e(t).fadeIn(500),n.ellaTimeout=setTimeout(function(){e(t).fadeOut(500)},5e3)},initToggleCollectionPanel:function(){e(".collection-sharing-btn").length>0&&e(".collection-sharing-btn").click(function(){e(".collection-sharing-panel").toggle(),e(".collection-sharing-panel").is(":visible")?(e(".collection-sharing-btn").addClass("btn-hover"),e(".collection-filter-panel").hide(),e(".collection-filter-btn").removeClass("btn-hover")):e(".collection-sharing-btn").removeClass("btn-hover")}),e(".collection-filter-btn").length>0&&(e(".collection-filter-btn").click(function(){e(".collection-filter-panel").toggle(),e(".collection-filter-panel").is(":visible")?(e(".collection-filter-btn").addClass("btn-hover"),e(".collection-sharing-panel").hide(),e(".collection-sharing-btn").removeClass("btn-hover")):e(".collection-filter-btn").removeClass("btn-hover")}),e(".collection-filter-panel select").change(function(t){window.location=e(this).find("option:selected").val()}))},checkItemsInDropdownCart:function(){e("#dropdown-cart .mini-products-list").children().length>0?(e("#dropdown-cart .no-items").hide(),e("#dropdown-cart .has-items").show()):(e("#dropdown-cart .has-items").hide(),e("#dropdown-cart .no-items").show())},initModal:function(){e(".continue-shopping").click(function(){clearTimeout(n.ellaTimeout),e(".ajax-success-modal").fadeOut(500)}),e(".close-modal, .overlay").click(function(){clearTimeout(n.ellaTimeout),e(".ajax-success-modal").fadeOut(500)})},initDropDownCart:function(){window.dropdowncart_type=="click"?e("#cartToggle").click(function(){e("#dropdown-cart").is(":visible")?e("#dropdown-cart").slideUp("fast"):e("#dropdown-cart").slideDown("fast")}):"ontouchstart"in document?e("#cartToggle").click(function(){e("#dropdown-cart").is(":visible")?e("#dropdown-cart").slideUp("fast"):e("#dropdown-cart").slideDown("fast")}):(e("#cartToggle").hover(function(){e("#dropdown-cart").is(":visible")||e("#dropdown-cart").slideDown("fast")}),e(".wrapper-top-cart").mouseleave(function(){e("#dropdown-cart").slideUp("fast")})),n.checkItemsInDropdownCart(),e("#dropdown-cart .no-items a").click(function(){e("#dropdown-cart").slideUp("fast")}),e("#dropdown-cart .btn-remove").click(function(t){t.preventDefault();var a=e(this).parents(".item").attr("id");a=a.match(/\d+/g),Shopify.removeItem(a,function(r){n.doUpdateDropdownCart(r)})})},closeDropdownCart:function(){e("#dropdown-cart").is(":visible")&&e("#dropdown-cart").slideUp("fast")},initDropdownSearch:function(){e(".nav-search .icon-search").click(function(){e(".header-bottom.on .search-bar").is(":visible")?e(".header-bottom.on .search-bar").slideUp("fast"):e(".header-bottom.on .search-bar").slideDown("fast")})},closeDropdownSearch:function(){e(".header-bottom.on .search-bar").is(":visible")&&e(".header-bottom.on .search-bar").slideUp("fast")},initProductMoreview:function(){e(".more-view-wrapper-owlslider").length>0?this.initOwlMoreview():e(".more-view-wrapper-jcarousel").length>0&&this.initJcarouselMoreview()},initOwlMoreview:function(){e(".more-view-wrapper-owlslider ul").owlCarousel({navigation:!0,items:5,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,3],itemsTabletSmall:[540,3],itemsMobile:[360,3]}).css("visibility","visible")},initJcarouselMoreview:function(){e(".more-view-wrapper-jcarousel ul").jcarousel({vertical:!0}).css("visibility","visible"),e(".product-img-box").addClass("has-jcarousel"),e(".more-view-wrapper").css("visibility","visible")},initCloudzoom:function(){e("#product-featured-image").length>0&&(e(".visible-phone").is(":visible")?(e("#product-featured-image").elevateZoom({gallery:"more-view-carousel",cursor:"pointer",galleryActiveClass:"active",imageCrossfade:!1,scrollZoom:!1,onImageSwapComplete:function(){e(".zoomWrapper div").hide()},loadingIcon:window.loading_url}),e("#product-featured-image").bind("click",function(t){return!1})):(e("#product-featured-image").elevateZoom({gallery:"more-view-carousel",cursor:"pointer",galleryActiveClass:"active",imageCrossfade:!0,scrollZoom:!1,onImageSwapComplete:function(){e(".zoomWrapper div").hide()},loadingIcon:window.loading_url}),e("#product-featured-image").bind("click",function(t){var a=e("#product-featured-image").data("elevateZoom");return e.fancybox(a.getGalleryList()),!1})))},initScrollTop:function(){e("#back-top").click(function(){return e("body,html").animate({scrollTop:0},400),!1})},initProductAddToCart:function(){e("#product-add-to-cart").length>0&&e("#product-add-to-cart").click(function(t){if(t.preventDefault(),e(this).attr("disabled")!="disabled")if(!window.ajax_cart)e(this).closest("form").submit();else{var a=e("#add-to-cart-form select[name=id]").val();a||(a=e("#add-to-cart-form input[name=id]").val());var r=e("#add-to-cart-form input[name=quantity]").val();r||(r=1);var o=e(".product-title h2").html(),s=e("#product-featured-image").attr("src");n.doAjaxAddToCart(a,r,o,s,this.closest("form"))}return!1})},initAddToCart:function(){e(".add-to-cart-btn").length>0&&e(".add-to-cart-btn").click(function(t){if(t.preventDefault(),e(this).attr("disabled")!="disabled"){var a=e(this).parents(".product-item"),r=e(a).attr("id");if(r=r.match(/\d+/g),!window.ajax_cart)e("#product-actions-"+r).submit();else{var o=e("#product-actions-"+r+" select[name=id]").val();o||(o=e("#product-actions-"+r+" input[name=id]").val());var s=e("#product-actions-"+r+" input[name=quantity]").val();s||(s=1);var l=e(a).find(".product-title").html(),d=e(a).find(".product-grid-image img").attr("src");n.doAjaxAddToCart(o,s,l,d,this.closest("form"))}}return!1})},showLoading:function(){e(".loading-modal").show()},hideLoading:function(){e(".loading-modal").hide()},doAjaxAddToCart:function(t,a,r,o){var s=arguments[4],l=function(c){n.hideLoading(),e(".ajax-success-modal").find(".ajax-product-title").html(n.translateText(r)),e(".ajax-success-modal").find(".ajax-product-image").attr("src",o),e(".ajax-success-modal").find(".btn-go-to-wishlist").hide(),e(".ajax-success-modal").find(".btn-go-to-cart").show(),n.showModal(".ajax-success-modal"),n.updateDropdownCart()},d=function(c,f){n.hideLoading(),e(".ajax-error-message").text(e.parseJSON(c.responseText).description),n.showModal(".ajax-error-modal")};typeof BOLD=="object"&&BOLD.helpers&&typeof BOLD.helpers.addItemFromForm=="function"?BOLD.helpers.addItemFromForm(s,l,d,{endpoint:"/cart/add.js"}):e.ajax({type:"post",url:"/cart/add.js",data:"quantity="+a+"&id="+t,dataType:"json",beforeSend:function(){n.showLoading()},success:l,error:d})},initQuickView:function(){e(".quickview-button a").click(function(){var t=e(this).attr("id");return Shopify.getProduct(t,function(a){var r=e("#quickview-template").html();e(".quick-view").html(r);var o=e(".quick-view");if(o.find(".product-title a").html(n.translateText(a.title)),o.find(".product-title a").attr("href",a.url),o.find(".product-vendor span").length>0&&o.find(".product-vendor span").text(a.vendor),o.find(".product-type span").length>0&&o.find(".product-type span").text(a.type),o.find(".product-inventory span").length>0){var s=a.variants[0],l=o.find(".product-inventory span");s.available?s.inventory_management!=null?l.text(window.inventory_text.in_stock):l.text(window.inventory_text.many_in_stock):l.text(window.inventory_text.out_of_stock)}if(a.description.indexOf("[countdown]")>0){var d=a.description.match(/\[countdown\](.*)\[\/countdown\]/);d&&d.length>0&&(o.find(".countdown").show(),o.find(".quickview-clock").countdown(d[1],function(p){e(this).html(p.strftime("%Dd %H:%M:%S"))}))}if(o.find(".product-description").length>0){var c=a.description.replace(/(<([^>]+)>)/ig,""),c=c.replace(/\[countdown\](.*)\[\/countdown\]/g,"");if(window.multi_lang&&c.indexOf("[lang2]")>0){var f=c.split("[lang2]");jQuery.cookie("language")!=null?c=f[translator.current_lang-1]:c=f[0]}c=c.split(" ").splice(0,20).join(" ")+"...",o.find(".product-description").text(c)}else o.find(".product-description").remove();o.find(".price").html(Shopify.formatMoney(a.price,window.money_format)),o.find(".product-item").attr("id","product-"+a.id),o.find(".variants").attr("id","product-actions-"+a.id),o.find(".variants select").attr("id","product-select-"+a.id),a.compare_at_price>a.price?(o.find(".compare-price").html(Shopify.formatMoney(a.compare_at_price_max,window.money_format)).show(),o.find(".price").addClass("on-sale")):(o.find(".compare-price").html(""),o.find(".price").removeClass("on-sale")),a.available?(o.find(".total-price span").html(Shopify.formatMoney(a.price,window.money_format)),window.use_color_swatch?n.createQuickViewVariantsSwatch(a,o):n.createQuickViewVariants(a,o)):(o.find("select, input, .total-price, .dec, .inc, .variants label").remove(),o.find(".add-to-cart-btn").text(window.inventory_text.unavailable).addClass("disabled").attr("disabled","disabled")),o.find(".button").on("click",function(){var p=o.find(".quantity").val(),h=1;e(this).text()=="+"?h=parseInt(p)+1:p>1&&(h=parseInt(p)-1),o.find(".quantity").val(h),o.find(".total-price").length>0&&n.updatePricingQuickview()}),window.show_multiple_currencies&&Currency.convertAll(window.shop_currency,jQuery("#currencies").val(),"span.money","money_format"),n.loadQuickViewSlider(a,o),n.initQuickviewAddToCart(),n.translateBlock(".quick-view"),e(".quick-view").fadeIn(500),e(".quick-view .total-price").length>0&&e(".quick-view input[name=quantity]").on("change",n.updatePricingQuickview),typeof BOLD=="object"&&BOLD.options&&BOLD.options.app&&typeof BOLD.options.app.boot=="function"&&BOLD.options.app.boot()}),!1}),e(document).on("click",".quick-view .overlay, .close-window",function(){return n.closeQuickViewPopup(),!1})},updatePricingQuickview:function(){var t=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,a=e(".quick-view .price").text().match(t);if(a||(t=/([0-9]+[.|,][0-9]+)/g,a=e(".quick-view .price").text().match(t)),a){var r=a[0],o=r.replace(/[.|,]/g,""),s=parseInt(e(".quick-view input[name=quantity]").val()),l=o*s,d=Shopify.formatMoney(l,window.money_format);t=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,d.match(t)||(t=/([0-9]+[.|,][0-9]+)/g),d=d.match(t)[0];var c=new RegExp(r,"g"),f=e(".quick-view .price").html().replace(c,d);e(".quick-view .total-price span").html(f)}},initQuickviewAddToCart:function(){e(".quick-view .add-to-cart-btn").length>0&&e(".quick-view .add-to-cart-btn").click(function(){var t=e(".quick-view select[name=id]").val();t||(t=e(".quick-view input[name=id]").val());var a=e(".quick-view input[name=quantity]").val();a||(a=1);var r=e(".quick-view .product-title a").html(),o=e(".quick-view .quickview-featured-image img").attr("src");n.doAjaxAddToCart(t,a,r,o,this.closest("form")),n.closeQuickViewPopup()})},updateDropdownCart:function(){Shopify.getCart(function(t){n.doUpdateDropdownCart(t)})},doUpdateDropdownCart:function(t){typeof window.BOLD!="undefined"&&typeof window.BOLD.common!="undefined"&&typeof window.BOLD.common.cartDoctor!="undefined"&&(t=window.BOLD.common.cartDoctor.fix(t));var a='<li class="item" id="cart-item-{ID}"><a href="{URL}" title="{TITLE}" class="product-image"><img src="{IMAGE}" alt="{TITLE}"></a><div class="product-details"><a href="javascript:void(0)" title="Remove This Item" class="btn-remove">X</a><p class="product-name"><a href="{URL}">{TITLE}</a>{PROPERTIES}</p><div class="cart-collateral">{QUANTITY} x <span class="price">{PRICE}</span></div></div></li>';if(e("#cartCount").text(t.item_count),e("#dropdown-cart .summary .price").html(Shopify.formatMoney(t.total_price,window.money_format)),e("#dropdown-cart .mini-products-list").html(""),t.item_count>0){for(var r=0;r<t.items.length;r++){var o=a;o=o.replace(/\{ID\}/g,t.items[r].key),o=o.replace(/\{PROPERTIES\}/g,t.items[r].properties_formatted),o=o.replace(/\{URL\}/g,t.items[r].url),o=o.replace(/\{TITLE\}/g,n.translateText(t.items[r].title)),o=o.replace(/\{QUANTITY\}/g,t.items[r].quantity),o=o.replace(/\{IMAGE\}/g,Shopify.resizeImage(t.items[r].image,"small")),o=o.replace(/\{PRICE\}/g,Shopify.formatMoney(t.items[r].price,window.money_format)),e("#dropdown-cart .mini-products-list").append(o)}e("#dropdown-cart .btn-remove").click(function(s){s.preventDefault();var l=e(this).parents(".item").attr("id");l=l.match(/[\d]+:?.*/g),Shopify.removeItem(l,function(d){n.doUpdateDropdownCart(d)})}),n.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,jQuery("#currencies").val(),"#dropdown-cart span.money","money_format")}n.checkItemsInDropdownCart(),window.BOLD&&BOLD.common&&BOLD.common.eventEmitter&&typeof BOLD.common.eventEmitter.emit=="function"&&BOLD.common.eventEmitter.emit("BOLD_COMMON_cart_loaded",t)},checkNeedToConvertCurrency:function(){return window.show_multiple_currencies&&Currency.currentCurrency!=shopCurrency},loadQuickViewSlider:function(t,a){var r=Shopify.resizeImage(t.featured_image,"grande");if(a.find(".quickview-featured-image").append('<a href="'+t.url+'"><img src="'+r+'" title="'+t.title+'"/><div style="height: 100%; width: 100%; top:0; left:0 z-index: 2000; position: absolute; display: none; background: url('+window.loading_url+') 50% 50% no-repeat;"></div></a>'),t.images.length>1){var o=a.find(".more-view-wrapper ul"),s=0;for(i in t.images)if(s<t.images.length){var l=Shopify.resizeImage(t.images[i],"grande"),d=Shopify.resizeImage(t.images[i],"compact"),c='<li><a href="javascript:void(0)" data-image="'+l+'"><img src="'+d+'"  /></a></li>';o.append(c),s=s+1}o.find("a").click(function(){var f=a.find(".quickview-featured-image img"),p=a.find(".quickview-featured-image div");f.attr("src")!=e(this).attr("data-image")&&(f.attr("src",e(this).attr("data-image")),p.show(),f.load(function(h){p.hide(),e(this).unbind("load"),p.hide()}))}),o.hasClass("quickview-more-views-owlslider")?n.initQuickViewCarousel(o):n.initQuickViewVerticalMoreview(o)}else a.find(".quickview-more-views").remove(),a.find(".quickview-more-view-wrapper-jcarousel").remove()},initQuickViewCarousel:function(t){t&&t.owlCarousel({navigation:!0,items:5,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,3],itemsTabletSmall:[540,3],itemsMobile:[360,3]}).css("visibility","visible")},initQuickViewVerticalMoreview:function(t){t&&(t.jcarousel({vertical:!0}),e(".product-img-box").addClass("has-jcarousel"),e(".more-view-wrapper").css("visibility","visible"))},convertToSlug:function(t){return t.toLowerCase().replace(/[^a-z0-9 -]/g,"-").replace(/\s+/g,"-").replace(/-+/g,"-")},createQuickViewVariantsSwatch:function(t,a){if(t.variants.length>1){for(var r=0;r<t.variants.length;r++){var o=t.variants[r],s='<option value="'+o.id+'">'+o.title+"</option>";a.find("form.variants > select").append(s)}new Shopify.OptionSelectors("product-select-"+t.id,{product:t,onVariantSelected:selectCallbackQuickview});for(var l=window.file_url.substring(0,window.file_url.lastIndexOf("?")),d=window.asset_url.substring(0,window.asset_url.lastIndexOf("?")),c="",r=0;r<t.options.length;r++){c+='<div class="swatch clearfix" data-option-index="'+r+'">',c+='<div class="header">'+t.options[r].name+"</div>";var f=!1;/Color|Colour/i.test(t.options[r].name)&&(f=!0);for(var p=new Array,h=0;h<t.variants.length;h++){var o=t.variants[h],u=o.options[r],m=this.convertToSlug(u),v="swatch-"+r+"-"+m;p.indexOf(u)<0&&(c+='<div data-value="'+u+'" class="swatch-element '+(f?"color":"")+m+(o.available?" available ":" soldout ")+'">',f&&(c+='<div class="tooltip">'+u+"</div>"),c+='<input id="'+v+'" type="radio" name="option-'+r+'" value="'+u+'" '+(h==0?" checked ":"")+(o.available?"":" disabled")+" />",f?c+='<label for="'+v+'" style="background-color: '+m+"; background-image: url("+l+m+'.png)"><img class="crossed-out" src="'+d+'soldout.png" /></label>':c+='<label for="'+v+'">'+u+'<img class="crossed-out" src="'+d+'soldout.png" /></label>',c+="</div>",o.available&&e('.quick-view .swatch[data-option-index="'+r+'"] .'+m).removeClass("soldout").addClass("available").find(":radio").removeAttr("disabled"),p.push(u))}c+="</div>"}a.find("form.variants > select").after(c),a.find(".swatch :radio").change(function(){var w=e(this).closest(".swatch").attr("data-option-index"),b=e(this).val();e(this).closest("form").find(".single-option-selector").eq(w).val(b).trigger("change")}),t.available&&(Shopify.optionsMap={},Shopify.linkOptionSelectors(t))}else{a.find("form.variants > select").remove();var g='<input type="hidden" name="id" value="'+t.variants[0].id+'">';a.find("form.variants").append(g)}},createQuickViewVariants:function(t,a){if(t.variants.length>1){for(var r=0;r<t.variants.length;r++){var o=t.variants[r],s='<option value="'+o.id+'">'+o.title+"</option>";a.find("form.variants > select").append(s)}if(new Shopify.OptionSelectors("product-select-"+t.id,{product:t,onVariantSelected:selectCallbackQuickview}),t.options.length==1){e(".selector-wrapper:eq(0)").prepend("<label>"+t.options[0].name+"</label>");for(var l=t.variants,d=0;d<l.length;d++){var c=l[d];c.available||jQuery(".single-option-selector option").filter(function(){return jQuery(this).html()===c.title}).remove()}}e(".quick-view .single-option-selector").selectize(),e(".quick-view .selectize-input input").attr("disabled","disabled"),a.find("form.variants .selector-wrapper label").each(function(p,h){e(this).html(t.options[p].name)})}else{a.find("form.variants > select").remove();var f='<input type="hidden" name="id" value="'+t.variants[0].id+'">';a.find("form.variants").append(f)}},closeQuickViewPopup:function(){e(".quick-view").fadeOut(500)},translateText:function(t){if(!window.multi_lang||t.indexOf("|")<0)return t;if(window.multi_lang){var a=t.split("|");return translator.isLang2()?a[1]:a[0]}},translateBlock:function(t){window.multi_lang&&translator.isLang2()&&translator.doTranslate(t)}};e.getJSON("/cart.js",n.doUpdateDropdownCart)})(jQuery);
//# sourceMappingURL=/s/files/1/2155/9601/t/2/assets/ella.js.map?v=144735408615056748661541686852
